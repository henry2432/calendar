# Kayarine æœƒå“¡å¸³æˆ¶ UI - å®Œæ•´éƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

å·²å®Œæˆå° `class-kayarine-woocommerce-customizer.php` çš„é‡å¯«ï¼Œå¯¦ç¾äº†ï¼š
- âœ… è‡ªå®šç¾© `[kayarine_account]` Shortcode
- âœ… æ¨™ç±¤é å¼ç™»å…¥/å…è²»è¨»å†Šç•Œé¢
- âœ… æ©™è‰²ä¸»é¡Œè¨­è¨ˆ (#FF8C42, #FF7A3D)
- âœ… æœƒå“¡é€²åº¦å„€è¡¨æ¿
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆï¼ˆ768pxã€480px æ–·é»ï¼‰
- âœ… AJAX è¡¨å–®æäº¤å’Œé©—è­‰
- âœ… WooCommerce é›†æˆ

---

## ğŸš€ éƒ¨ç½²æ–¹æ³•é¸æ“‡

ç”±æ–¼ SSH é€£æ¥ç›®å‰ç„¡æ³•ä½¿ç”¨ï¼Œè«‹é¸æ“‡ä»¥ä¸‹å…¶ä¸­ä¸€å€‹æ–¹æ³•ä¸Šå‚³æ–‡ä»¶ï¼š

### æ–¹æ³• 1ï¸âƒ£ï¼šWordPress å¾Œå°æ–‡ä»¶ç®¡ç†å™¨ï¼ˆæ¨è–¦ï¼‰

**å„ªé»**ï¼šç„¡éœ€å…¶ä»–å·¥å…·ï¼Œæœ€ç°¡å–®

#### æ­¥é©Ÿï¼š

1. **ç™»å…¥ WordPress å¾Œå°**
   - é€²å…¥ wp-adminï¼ˆä¾‹å¦‚ï¼š`https://kayarine.com/wp-admin`ï¼‰
   - ä½¿ç”¨ç®¡ç†å“¡å¸³è™Ÿç™»å…¥

2. **é€²å…¥æ–‡ä»¶ç®¡ç†**
   - å´é‚Šèœå–® â†’ **å·¥å…·** â†’ **æ–‡ä»¶ç®¡ç†å™¨**ï¼ˆå¦‚æœæœ‰å®‰è£ï¼‰
   - æˆ–é€²å…¥ **å¤–æ›** â†’ **å¤–æ›ç·¨è¼¯å™¨**ï¼ˆä¸æ¨è–¦ï¼Œä½†å¯ç”¨ï¼‰

3. **ä¸Šå‚³æ–‡ä»¶**
   - å°èˆªè‡³ `wp-content/plugins/kayarine-booking/includes/`
   - ä¸Šå‚³ `class-kayarine-woocommerce-customizer.php`

4. **é©—è­‰ä¸Šå‚³**
   - ç¢ºèªæ–‡ä»¶å‡ºç¾åœ¨æ­£ç¢ºçš„ç›®éŒ„ä¸­
   - æª¢æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦å®Œæ•´ï¼ˆç´„ 30 KBï¼‰

---

### æ–¹æ³• 2ï¸âƒ£ï¼šFTP/SFTP å®¢æˆ¶ç«¯

**å„ªé»**ï¼šå¯é ã€é©åˆå¤§æ–‡ä»¶ã€å¯æ‰¹é‡ä¸Šå‚³

#### å·¥å…·æ¨è–¦ï¼š
- **FileZilla**ï¼ˆå…è²»ï¼Œè·¨å¹³å°ï¼‰
- **Transmit**ï¼ˆmacOSï¼‰
- **WinSCP**ï¼ˆWindowsï¼‰

#### æ­¥é©Ÿï¼š

1. **é€£æ¥ä¼ºæœå™¨**
   ```
   ä¸»æ©Ÿ: 35.241.107.233 (æˆ–ä½ çš„ kayarine.com)
   ç”¨æˆ¶å: kayarine_server
   å¯†ç¢¼: [ä½¿ç”¨ä½ çš„å¯†ç¢¼] æˆ–ä½¿ç”¨ SSH å¯†é‘°
   åŸ : 22 (SSH) æˆ– 21 (FTP)
   ```

2. **å°èˆªè‡³ç›®æ¨™ç›®éŒ„**
   ```
   /opt/bitnami/wordpress/wp-content/plugins/kayarine-booking/includes/
   ```
   æˆ–
   ```
   /var/www/html/wp-content/plugins/kayarine-booking/includes/
   ```

3. **ä¸Šå‚³æ–‡ä»¶**
   - æ‹–å‹• `class-kayarine-woocommerce-customizer.php` åˆ°é ç¨‹ç›®éŒ„
   - ç¢ºä¿æ–‡ä»¶æ¬Šé™è¨­ç½®ç‚º 644ï¼ˆFTP å®¢æˆ¶ç«¯å¯è¨­ç½®ï¼‰

4. **é©—è­‰å®Œæˆ**
   - åœ¨ FTP ä¸­æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨ç¢ºèªä¸Šå‚³æˆåŠŸ

---

### æ–¹æ³• 3ï¸âƒ£ï¼šGCP Web æ§åˆ¶å°

**å„ªé»**ï¼šç„¡éœ€é¡å¤–è»Ÿä»¶ï¼Œç›´æ¥åœ¨ç¶²é æ“ä½œ

#### æ­¥é©Ÿï¼š

1. **é€²å…¥ GCP æ§åˆ¶å°**
   - è¨ªå• `console.cloud.google.com`
   - é¸æ“‡ Kayarine é …ç›®

2. **ä½¿ç”¨åºåˆ—åŸ é€£æ¥**
   - è¨ˆç®—å¼•æ“ â†’ å¯¦ä¾‹ â†’ `wordpress-2025-vm`
   - é»æ“Š **åºåˆ—åŸ  1 (GCP Tools)**
   - é€™æœƒæ‰“é–‹ä¸€å€‹ Web çµ‚ç«¯

3. **ä¸Šå‚³ä¸¦éƒ¨ç½²**
   ```bash
   # å‰µå»ºè‡¨æ™‚ç›®éŒ„
   mkdir -p /tmp/kayarine-deploy
   cd /tmp/kayarine-deploy
   
   # ä½¿ç”¨ nano æˆ– vi å‰µå»ºæ–‡ä»¶ï¼ˆè¤‡è£½æœ¬åœ°å…§å®¹ç²˜è²¼ï¼‰
   nano class-kayarine-woocommerce-customizer.php
   # [ç²˜è²¼æ•´å€‹æ–‡ä»¶å…§å®¹]
   # æŒ‰ Ctrl+X, ç„¶å¾Œ Y, å†æŒ‰ Enter ä¿å­˜
   
   # ç§»å‹•åˆ°ç›®æ¨™ä½ç½®
   sudo mv class-kayarine-woocommerce-customizer.php \
       /opt/bitnami/wordpress/wp-content/plugins/kayarine-booking/includes/
   
   # è¨­ç½®æ¬Šé™
   sudo chown daemon:daemon \
       /opt/bitnami/wordpress/wp-content/plugins/kayarine-booking/includes/class-kayarine-woocommerce-customizer.php
   sudo chmod 644 \
       /opt/bitnami/wordpress/wp-content/plugins/kayarine-booking/includes/class-kayarine-woocommerce-customizer.php
   ```

---

### æ–¹æ³• 4ï¸âƒ£ï¼šä½¿ç”¨ WordPress å¤–æ›ä¸Šå‚³

**å„ªé»**ï¼šé©åˆå¿«é€Ÿè¿­ä»£ï¼Œä¸å½±éŸ¿å…¶ä»–æ–‡ä»¶

#### æ­¥é©Ÿï¼š

1. **åœ¨ WordPress å¾Œå°**
   - é€²å…¥ **å¤–æ›** â†’ **æ·»åŠ æ–°å¤–æ›**
   - æœç´¢ã€ŒCode Snippetsã€æˆ–ã€ŒAdvanced Codeã€å¤–æ›
   - å®‰è£ä¸¦æ¿€æ´»

2. **å‰µå»ºä»£ç¢¼ç‰‡æ®µ**
   - é€²å…¥å¤–æ›è¨­ç½®
   - è¤‡è£½ `kayarine-booking/includes/UPLOAD_HELPER.php` çš„å…§å®¹
   - ä½œç‚ºæ–°ä»£ç¢¼ç‰‡æ®µæ·»åŠ 

3. **é‹è¡Œé©—è­‰**
   - è¨ªå•å¤–æ›æä¾›çš„é©—è­‰é é¢
   - ç¢ºèªæ–‡ä»¶å·²æ­£ç¢ºéƒ¨ç½²

---

## âœ… éƒ¨ç½²å¾Œé©—è­‰

### 1ï¸âƒ£ æª¢æŸ¥æ–‡ä»¶å­˜åœ¨
```bash
# é€šé FTP æˆ– SSH ç¢ºèªæ–‡ä»¶åœ¨æ­£ç¢ºä½ç½®
ls -la /opt/bitnami/wordpress/wp-content/plugins/kayarine-booking/includes/class-kayarine-woocommerce-customizer.php
# æ‡‰é¡¯ç¤ºï¼š-rw-r--r-- ... class-kayarine-woocommerce-customizer.php
```

### 2ï¸âƒ£ å•Ÿç”¨ WordPress èª¿è©¦æ—¥èªŒ
ç·¨è¼¯ `wp-config.php`ï¼ˆé€šé FTP æˆ– WP æ–‡ä»¶ç®¡ç†å™¨ï¼‰ï¼š

```php
// åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ 
define( 'WP_DEBUG', true );
define( 'WP_DEBUG_LOG', true );
define( 'WP_DEBUG_DISPLAY', false );
```

### 3ï¸âƒ£ æª¢æŸ¥ PHP èªæ³•éŒ¯èª¤
è¨ªå• WordPress å¾Œå°ï¼Œæª¢æŸ¥ï¼š
- `wp-content/debug.log`ï¼ˆå¦‚æœå•Ÿç”¨äº† WP_DEBUGï¼‰
- å°‹æ‰¾ä»»ä½• Parse error æˆ– Fatal error

### 4ï¸âƒ£ å‰µå»º /account/ é é¢

åœ¨ WordPress å¾Œå°ï¼š

1. **é é¢** â†’ **æ–°å¢**
2. **æ¨™é¡Œ**ï¼šæœƒå“¡å¸³æˆ¶
3. **æ°¸ä¹…é€£çµ**ï¼š`account`
4. **å…§å®¹**ï¼š
   ```
   [kayarine_account]
   ```
5. **ç™¼å¸ƒ**

### 5ï¸âƒ£ é‡æ–°æ•´ç†å›ºå®šé€£çµ

1. **è¨­å®š** â†’ **å›ºå®šé€£çµ**
2. é»æ“Š **ä¿å­˜æ›´æ”¹**ï¼ˆå³ä½¿æ²’æœ‰ä¿®æ”¹ä»»ä½•å…§å®¹ï¼‰
3. é€™æœƒåˆ·æ–° WooCommerce çš„è‡ªå®šç¾©ç«¯é»

### 6ï¸âƒ£ æ¸¬è©¦ Shortcode

è¨ªå• `https://kayarine.com/account/`

#### é æœŸçµæœï¼š

**æœªç™»å…¥ç”¨æˆ¶ï¼š**
```
âœ¨ Kayarine æœƒå“¡ä¸­å¿ƒ
ç™»å…¥æˆ–è¨»å†Šä»¥ç®¡ç†æ‚¨çš„é ç´„

[ğŸ” æœƒå“¡ç™»å…¥ æŒ‰éˆ•] [âœ¨ å…è²»è¨»å†Š æŒ‰éˆ•]

ç™»å…¥è¡¨å–®ï¼š
- é›»å­éƒµä»¶æˆ–ç”¨æˆ¶å
- å¯†ç¢¼
- è¨˜ä½æˆ‘ (checkbox)
- [ç™»å…¥] æŒ‰éˆ•

ç›Šè™•å¡ç‰‡ï¼š
âœ¨ ç´¯ç©ç©åˆ†
ğŸ“… è¼•é¬†ç®¡ç†
ğŸ’° å°ˆå±¬æŠ˜æ‰£
```

**å·²ç™»å…¥ç”¨æˆ¶ï¼š**
```
WooCommerce å¸³æˆ¶å°èˆª
+ ğŸ… æœƒå“¡é€²åº¦ (æ–°å¢èœå–®é …)

æœƒå“¡é€²åº¦å„€è¡¨æ¿ï¼š
- ç”¨æˆ¶é ­åƒ + åç¨± + æœƒå“¡ç­‰ç´š
- ç¾æœ‰ç©åˆ† | å„²å€¼é‡‘
- æ¶ˆè²»é€²åº¦æ¢
- ç›®å‰æ¬Šç›Šåˆ—è¡¨
```

---

## ğŸ› å¸¸è¦‹å•é¡Œæ’é™¤

### å•é¡Œ 1ï¸âƒ£ï¼šShortcode é¡¯ç¤ºç‚ºç´”æ–‡æœ¬ `[kayarine_account]`

**å¯èƒ½åŸå› ï¼š**
- æ–‡ä»¶æœªæ­£ç¢ºä¸Šå‚³
- PHP èªæ³•éŒ¯èª¤
- æ’ä»¶æœªæ¿€æ´»

**è§£æ±ºæ–¹æ¡ˆï¼š**
```bash
# 1. é©—è­‰æ–‡ä»¶å­˜åœ¨ä¸”æ¬Šé™æ­£ç¢º
ls -l /opt/bitnami/wordpress/wp-content/plugins/kayarine-booking/includes/class-kayarine-woocommerce-customizer.php

# 2. æª¢æŸ¥ PHP èªæ³•
php -l /opt/bitnami/wordpress/wp-content/plugins/kayarine-booking/includes/class-kayarine-woocommerce-customizer.php

# 3. æª¢æŸ¥ debug.log
tail -50 /opt/bitnami/wordpress/wp-content/debug.log

# 4. åœ¨ WP å¾Œå°é‡æ–°æ¿€æ´»å¤–æ›
# å¤–æ› â†’ Kayarine Booking â†’ åœç”¨ â†’ æ¿€æ´»
```

### å•é¡Œ 2ï¸âƒ£ï¼šæ¨™ç±¤é ç„¡æ³•åˆ‡æ›

**æª¢æŸ¥é»ï¼š**
- ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰â†’ æ§åˆ¶å°
- æŸ¥çœ‹æ˜¯å¦æœ‰ JavaScript éŒ¯èª¤
- ç¢ºèª jQuery å·²åŠ è¼‰

```javascript
// åœ¨ç€è¦½å™¨æ§åˆ¶å°æ¸¬è©¦
console.log(jQuery); // æ‡‰é¡¯ç¤º jQuery å°è±¡
$('.kayarine-auth-tab-btn-orange').length; // æ‡‰å¤§æ–¼ 0
```

### å•é¡Œ 3ï¸âƒ£ï¼šé¡è‰²ä¸æ˜¯æ©™è‰²

**è§£æ±ºæ–¹æ¡ˆï¼š**
```bash
# æ¸…é™¤ WordPress å¿«å–
# 1. é€²å…¥ WP å¾Œå° â†’ å·¥å…· â†’ æ¸…é™¤å¿«å–ï¼ˆå¦‚ä½¿ç”¨å¿«å–æ’ä»¶ï¼‰
# 2. æ¸…é™¤ç€è¦½å™¨å¿«å–ï¼šCtrl+Shift+Delete
# 3. å¼·åˆ¶åˆ·æ–°é é¢ï¼šCtrl+F5
```

### å•é¡Œ 4ï¸âƒ£ï¼šç™»å…¥/è¨»å†Šè¡¨å–®ç„¡æ³•æäº¤

**æª¢æŸ¥ï¼š**
- ç€è¦½å™¨æ§åˆ¶å°æ˜¯å¦æœ‰ AJAX éŒ¯èª¤
- WordPress nonce æ˜¯å¦æ­£ç¢ºç”Ÿæˆ
- `/wp-admin/admin-ajax.php` æ˜¯å¦å¯è¨ªå•

```javascript
// æ¸¬è©¦ AJAX
jQuery.post(ajaxurl, {action: 'heartbeat'}, function(response) {
    console.log('AJAX æ­£å¸¸å·¥ä½œ', response);
});
```

---

## ğŸ“ æ–‡ä»¶çµæ§‹

```
kayarine-booking/
â”œâ”€â”€ kayarine-booking.php (ä¸»æ–‡ä»¶ï¼Œå·²æ›´æ–°å¼•å…¥ customizer)
â”œâ”€â”€ includes/
â”‚   â”œâ”€â”€ class-kayarine-woocommerce-customizer.php (âœ¨ æ–°æ–‡ä»¶ - 980è¡Œ)
â”‚   â”œâ”€â”€ class-kayarine-membership.php
â”‚   â”œâ”€â”€ class-kayarine-booking.php
â”‚   â””â”€â”€ ... (å…¶ä»–é¡æ–‡ä»¶)
â””â”€â”€ assets/
    â”œâ”€â”€ css/style.css (å·²æ›´æ–°ï¼ŒåŒ…å« customizer æ¨£å¼)
    â””â”€â”€ js/script.js
```

---

## ğŸ” é©—è­‰æ¸…å–®

éƒ¨ç½²å®Œæˆå¾Œï¼Œè«‹ç¢ºèªä»¥ä¸‹é …ç›®ï¼š

- [ ] æ–‡ä»¶å·²ä¸Šå‚³åˆ° `includes/class-kayarine-woocommerce-customizer.php`
- [ ] æ–‡ä»¶æ¬Šé™è¨­ç½®ç‚º 644ï¼ˆå¯è®€ï¼‰
- [ ] æ²’æœ‰ PHP èªæ³•éŒ¯èª¤ï¼ˆæŸ¥çœ‹ debug.logï¼‰
- [ ] `[kayarine_account]` Shortcode åœ¨ /account/ é é¢ä¸Šé¡¯ç¤ºï¼ˆä¸æ˜¯ç´”æ–‡æœ¬ï¼‰
- [ ] æœªç™»å…¥ç”¨æˆ¶çœ‹åˆ°ç™»å…¥/è¨»å†Šæ¨™ç±¤é 
- [ ] å·²ç™»å…¥ç”¨æˆ¶çœ‹åˆ°å¸³æˆ¶å„€è¡¨æ¿
- [ ] æ‰€æœ‰æŒ‰éˆ•å’Œéˆæ¥ä½¿ç”¨æ©™è‰²ä¸»é¡Œ (#FF8C42)
- [ ] è¡¨å–®æäº¤æ­£å¸¸å·¥ä½œï¼ˆæª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°ç„¡éŒ¯èª¤ï¼‰
- [ ] æ‰‹æ©Ÿç«¯ (480px) éŸ¿æ‡‰å¼æ­£å¸¸
- [ ] æœƒå“¡é€²åº¦é¡¯ç¤ºç”¨æˆ¶ç©åˆ†ã€éŒ¢åŒ…ã€æ¶ˆè²»é€²åº¦

---

## ğŸ“ æ”¯æŒä¿¡æ¯

å¦‚é‡åˆ°å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š

1. **WordPress éŒ¯èª¤æ—¥èªŒ**
   ```
   /opt/bitnami/wordpress/wp-content/debug.log
   ```

2. **ä¼ºæœå™¨æ—¥èªŒ**ï¼ˆApache/Nginxï¼‰
   ```
   /opt/bitnami/apache2/logs/error_log
   # æˆ–
   /var/log/nginx/error.log
   ```

3. **PHP-FPM æ—¥èªŒ**ï¼ˆå¦‚ä½¿ç”¨ï¼‰
   ```
   /opt/bitnami/php/logs/php-fpm.log
   ```

4. **ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·**
   - F12 é–‹å•Ÿé–‹ç™¼è€…å·¥å…·
   - æŸ¥çœ‹ Consoleï¼ˆæ§åˆ¶å°ï¼‰æ¨™ç±¤é 
   - æŸ¥çœ‹ Networkï¼ˆç¶²çµ¡ï¼‰æ¨™ç±¤é 

---

## ğŸ“ ç‰ˆæœ¬ä¿¡æ¯

- **éƒ¨ç½²æ—¥æœŸ**ï¼š2026-01-27
- **Kayarine ç‰ˆæœ¬**ï¼š1.4.1
- **PHP è¦æ±‚**ï¼š7.2+
- **WordPress è¦æ±‚**ï¼š5.0+
- **WooCommerce**ï¼šå¿…éœ€

---

## ğŸ¨ è¨­è¨ˆç‰¹é»å›é¡¾

### è‰²å½©æ–¹æ¡ˆ
- **ä¸»è‰²**ï¼šæ©™è‰² #FF8C42
- **æ·±è‰²è®Šé«”**ï¼š#FF7A3Dï¼ˆæ‡¸åœç‹€æ…‹ï¼‰
- **èƒŒæ™¯**ï¼šç™½è‰² #ffffff
- **æ–‡æœ¬**ï¼šæ·±ç°è‰² #2d3748

### éŸ¿æ‡‰å¼æ–·é»
```css
- æ¡Œé¢ï¼š900px+ï¼ˆå®Œæ•´ä½ˆå±€ï¼‰
- å¹³æ¿ï¼š768px-899pxï¼ˆå„ªåŒ–æ¨™ç±¤å¯¬åº¦ï¼‰
- æ‰‹æ©Ÿï¼š480px-767pxï¼ˆå †ç–Šä½ˆå±€ï¼‰
- å°å±å¹•ï¼š<480pxï¼ˆæ¥µå°åŒ–è¨­è¨ˆï¼‰
```

### Shortcode ä½¿ç”¨
```
[kayarine_account]
```

### åŠŸèƒ½æ¦‚è¿°
1. **è‡ªå‹•ç‹€æ…‹æª¢æ¸¬**ï¼šæ ¹æ“šç”¨æˆ¶ç™»å…¥ç‹€æ…‹è‡ªå‹•é¡¯ç¤ºä¸åŒå…§å®¹
2. **æ¨™ç±¤é ç³»çµ±**ï¼šç™»å…¥ â†” å…è²»è¨»å†Š å¹³æ»‘åˆ‡æ›
3. **AJAX æäº¤**ï¼šç„¡é é¢åˆ·æ–°çš„è¡¨å–®æäº¤
4. **å®‰å…¨é©—è­‰**ï¼šNonce é©—è­‰ã€æ•¸æ“šæ¸…ç†ã€éŒ¯èª¤è™•ç†
5. **æœƒå“¡å„€è¡¨æ¿**ï¼šé¡¯ç¤ºç”¨æˆ¶ç©åˆ†ã€éŒ¢åŒ…ã€å‡ç´šé€²åº¦

---

ç¥éƒ¨ç½²é †åˆ©ï¼å¦‚æœ‰ä»»ä½•å•é¡Œï¼Œè«‹åƒè€ƒä¸Šè¿°æ•…éšœæ’é™¤éƒ¨åˆ†æˆ–æª¢æŸ¥ WordPress èª¿è©¦æ—¥èªŒã€‚
