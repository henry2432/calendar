# Kayarine æœƒå“¡ä¸­å¿ƒèœå–®ä¿®å¾©é©—è­‰æŒ‡å— (v1.4.8)

## èƒŒæ™¯
ç‰ˆæœ¬ 1.4.8 å¯¦ç¾äº†èœå–®æ¸²æŸ“é‚è¼¯ä¿®å¾©ï¼Œæ”¹è®Šäº†å¦‚ä½•æ§‹å»ºå’Œé¡¯ç¤ºæœƒå“¡ä¸­å¿ƒèœå–®é …ç›®ã€‚

### ä¿®å¾©å…§å®¹
- **èˆŠæ–¹æ³•**ï¼šç›´æ¥èª¿ç”¨ WooCommerce çš„ `woocommerce_account_navigation()` å‡½æ•¸ï¼Œå°è‡´éæ¿¾å™¨è¢«ç¹é
- **æ–°æ–¹æ³•**ï¼šè‡ªå®šç¾©èœå–®æ§‹å»ºï¼Œæ‰‹å‹•æ‡‰ç”¨ `woocommerce_account_menu_items` éæ¿¾å™¨ï¼Œåªé¡¯ç¤ºå…è¨±çš„èœå–®é …ç›®

### é æœŸçµæœ
ç™»å…¥å¾Œçš„æœƒå“¡ä¸­å¿ƒæ‡‰è©²ï¼š
1. **åªé¡¯ç¤ºä»¥ä¸‹èœå–®é …ç›®**ï¼š
   - ğŸ… Kayarine æœƒå“¡ä¸­å¿ƒ (Dashboard)
   - ğŸ“Š æˆ‘çš„é€²åº¦ (Kayarine Membership)
   - Logout (ç™»å‡º)

2. **å®Œå…¨éš±è—ä»¥ä¸‹ WooCommerce èœå–®é …ç›®**ï¼š
   - âŒ Orders (è¨‚å–®)
   - âŒ Downloads (ä¸‹è¼‰)
   - âŒ Addresses (åœ°å€)
   - âŒ Account Details (å¸³æˆ¶è©³ç´°ä¿¡æ¯)

3. **æœƒå“¡é€²åº¦å€åŸŸæ‡‰è©²æ­£å¸¸é¡¯ç¤º**ï¼š
   - ç”¨æˆ¶åèˆ‡ç­‰ç´š
   - ç¾æœ‰ç©åˆ†
   - æ¶ˆè²»é€²åº¦æ¢
   - å‡ç´šæç¤º

---

## æ¸¬è©¦æ­¥é©Ÿ

### æ­¥é©Ÿ 1ï¼šæ¸…é™¤ç€è¦½å™¨ç·©å­˜
ç”±æ–¼æŸäº›ç€è¦½å™¨/CDN å¯èƒ½ç·©å­˜é é¢ï¼Œå»ºè­°ï¼š
1. é–‹å•Ÿç„¡ç—•æ¨¡å¼/éš±ç§ç€è¦½æ¨¡å¼
2. æˆ–æ¸…é™¤æ‰€æœ‰ç·©å­˜ä¸¦ç¡¬åˆ·æ–°é é¢ (Ctrl+Shift+R æˆ– Cmd+Shift+R)

### æ­¥é©Ÿ 2ï¼šè¨ªå•æœƒå“¡ç™»å…¥é é¢
1. æ‰“é–‹ `https://kayarine.club/account/`
2. æ‡‰è©²çœ‹åˆ°ç™»å…¥/è¨»å†Šè¡¨å–®ï¼ˆæ©™è‰²ä¸»é¡Œï¼‰

### æ­¥é©Ÿ 3ï¼šä½¿ç”¨æ¸¬è©¦å¸³æˆ¶ç™»å…¥
- **ç”¨æˆ¶å**ï¼š`test`
- **å¯†ç¢¼**ï¼š`testtest`
- é»æ“Šã€Œç™»å…¥ã€æŒ‰éˆ•

### æ­¥é©Ÿ 4ï¼šç­‰å¾…é‡å®šå‘å®Œæˆ
- æ‡‰è©²è‡ªå‹•é‡å®šå‘å› `https://kayarine.club/account/`
- æ­¤æ™‚æ‡‰è©²çœ‹åˆ°å·²ç™»å…¥çš„æœƒå“¡ä¸­å¿ƒé é¢

### æ­¥é©Ÿ 5ï¼šæª¢æŸ¥èœå–®é …ç›®ï¼ˆé—œéµé©—è­‰ï¼‰

**åœ¨é é¢å·¦å´æˆ–é ‚éƒ¨æª¢æŸ¥èœå–®æ¬„ï¼š**

âœ… **æ‡‰è©²çœ‹åˆ°é€™äº›èœå–®é …ç›®**ï¼š
- ğŸ… Kayarine æœƒå“¡ä¸­å¿ƒ
- ğŸ“Š æˆ‘çš„é€²åº¦
- Logoutï¼ˆç™»å‡ºï¼‰

âŒ **çµ•å°ä¸æ‡‰è©²çœ‹åˆ°é€™äº›é …ç›®**ï¼š
- Orders
- Downloads
- Addresses
- Account Details

**å¦‚æœçœ‹åˆ°ä»»ä½• WooCommerce èœå–®é …ç›®ï¼Œå‰‡ä¿®å¾©å¤±æ•—**ã€‚

### æ­¥é©Ÿ 6ï¼šé©—è­‰æœƒå“¡é€²åº¦å…§å®¹

ç•¶æ²’æœ‰ç‰¹å®šç«¯é»è¢«è¨ªå•æ™‚ï¼Œæ‡‰è©²çœ‹åˆ°ã€Œæœƒå“¡é€²åº¦ã€å€åŸŸï¼ŒåŒ…å«ï¼š
- ğŸ‘¤ ç”¨æˆ¶é ­åƒå’Œç”¨æˆ¶å
- ç­‰ç´šæ¨™ç±¤ï¼ˆBronze/Silver/Gold/VIPï¼‰
- âœ¨ ç¾æœ‰ç©åˆ†é¡¯ç¤º
- ğŸ“Š æ¶ˆè²»é€²åº¦æ¢ï¼ˆå¾ $0 åˆ°å‡ç´šç›®æ¨™ï¼‰
- å‡ç´šæç¤ºï¼ˆä¾‹å¦‚"å†æ¶ˆè²» HK$X å³å¯å‡ç´š"ï¼‰

### æ­¥é©Ÿ 7ï¼šé»æ“Šã€Œæˆ‘çš„é€²åº¦ã€èœå–®é …ç›®

1. é»æ“Šå·¦å´èœå–®ä¸­çš„ã€ŒğŸ“Š æˆ‘çš„é€²åº¦ã€
2. æ‡‰è©²çœ‹åˆ°è©³ç´°çš„æœƒå“¡é€²åº¦ä¿¡æ¯
3. èœå–®ä¸­è©²é …ç›®æ‡‰è©²æ¨™è¨˜ç‚ºã€Œactiveã€

### æ­¥é©Ÿ 8ï¼šé»æ“Šã€ŒKayarine æœƒå“¡ä¸­å¿ƒã€è¿”å›

1. é»æ“Šã€ŒğŸ… Kayarine æœƒå“¡ä¸­å¿ƒã€
2. æ‡‰è©²å›åˆ°ä¸»æœƒå“¡é€²åº¦é é¢

---

## å¦‚æœä¿®å¾©ä¸å·¥ä½œ

å¦‚æœæ‚¨çœ‹åˆ° WooCommerce èœå–®é …ç›®ï¼ˆOrders, Downloads ç­‰ï¼‰ï¼Œè«‹ï¼š

### æª¢æŸ¥æ¸…å–®

1. **æ¸…é™¤ WordPress ç·©å­˜**
   - ç™»å…¥ WordPress å¾Œå° (wp-admin)
   - å¦‚æœæœ‰ç·©å­˜æ’ä»¶ï¼ˆå¦‚ W3 Total Cacheï¼‰ï¼Œæ¸…é™¤æ‰€æœ‰ç·©å­˜
   - è¨ªå• Settings â†’ Performance â†’ Purge All Caches

2. **æª¢æŸ¥æœå‹™å™¨ç‰ˆæœ¬**
   ```bash
   # SSH é€²å…¥æœå‹™å™¨
   gcloud compute ssh wordpress-2025-vm --zone=asia-east1-b \
     --command="grep 'Version:' /opt/bitnami/wordpress/wp-content/plugins/kayarine-booking/kayarine-booking.php"
   
   # æ‡‰è©²è¿”å›: Version: 1.4.8
   ```

3. **æª¢æŸ¥éŒ¯èª¤æ—¥èªŒ**
   ```bash
   # æª¢æŸ¥æœ€è¿‘çš„ 50 è¡Œæ—¥èªŒ
   gcloud compute ssh wordpress-2025-vm --zone=asia-east1-b \
     --command="tail -50 /opt/bitnami/wordpress/wp-content/debug.log"
   
   # å°‹æ‰¾åŒ…å« "Kayarine 1.4.8" æˆ–éŒ¯èª¤ä¿¡æ¯çš„è¡Œ
   ```

4. **æª¢æŸ¥èœå–®éæ¿¾å™¨æ˜¯å¦è¢«èª¿ç”¨**
   ```bash
   # æŸ¥çœ‹è¨ºæ–·æ—¥èªŒ
   gcloud compute ssh wordpress-2025-vm --zone=asia-east1-b \
     --command="grep '\[Kayarine 1.4.8\]' /opt/bitnami/wordpress/wp-content/debug.log | tail -20"
   ```

---

## é æœŸçš„èª¿è©¦æ—¥èªŒè¼¸å‡º

å¦‚æœä¿®å¾©æ­£ç¢ºå·¥ä½œï¼Œåœ¨ WordPress debug.log ä¸­æ‡‰è©²çœ‹åˆ°é¡ä¼¼çš„æ—¥èªŒï¼š

```
[Kayarine 1.4.8] Menu Filter - START ================================
[Kayarine 1.4.8] Menu Filter - is_user_logged_in(): true
[Kayarine 1.4.8] Menu Filter - Incoming items: ["dashboard","orders","downloads","edit-address","edit-account","customer-logout"]
[Kayarine 1.4.8] Menu Filter - Total incoming items: 6
[Kayarine 1.4.8] Menu Filter - Added item: dashboard
[Kayarine 1.4.8] Menu Filter - Added item: customer-logout
[Kayarine 1.4.8] Menu Filter - Added kayarine-membership (not found in items)
[Kayarine 1.4.8] Menu Filter - Outgoing items: ["dashboard","kayarine-membership","customer-logout"]
[Kayarine 1.4.8] Menu Filter - Hidden items: ["orders","downloads","edit-address","edit-account"]
[Kayarine 1.4.8] Menu Filter - END ================================
```

**é‡è¦**ï¼šéš±è—é …ç›®åˆ—è¡¨æ‡‰è©²åŒ…å« "orders", "downloads", "edit-address", "edit-account"ã€‚

---

## æ¸¬è©¦çµæœå ±å‘Šæ ¼å¼

è«‹ä»¥ä»¥ä¸‹æ ¼å¼å ±å‘Šæ¸¬è©¦çµæœï¼š

```
## æ¸¬è©¦çµæœå ±å‘Š - v1.4.8 èœå–®ä¿®å¾©

### ç’°å¢ƒ
- æ—¥æœŸï¼š[ä»Šå¤©æ—¥æœŸ]
- å¸³æˆ¶ï¼štest / testtest
- ç€è¦½å™¨ï¼š[ä¾‹å¦‚ Chrome/Firefox/Safari]

### èœå–®é©—è­‰
- [ ] çœ‹åˆ°ã€ŒğŸ… Kayarine æœƒå“¡ä¸­å¿ƒã€
- [ ] çœ‹åˆ°ã€ŒğŸ“Š æˆ‘çš„é€²åº¦ã€
- [ ] çœ‹åˆ°ã€ŒLogoutã€
- [ ] æ²’çœ‹åˆ°ã€ŒOrdersã€
- [ ] æ²’çœ‹åˆ°ã€ŒDownloadsã€
- [ ] æ²’çœ‹åˆ°ã€ŒAddressesã€
- [ ] æ²’çœ‹åˆ°ã€ŒAccount Detailsã€

### æœƒå“¡é€²åº¦å€åŸŸ
- [ ] ç”¨æˆ¶åæ­£ç¢ºé¡¯ç¤º
- [ ] ç­‰ç´šæ¨™ç±¤æ­£ç¢ºé¡¯ç¤º
- [ ] ç©åˆ†æ•¸å€¼æ­£ç¢ºé¡¯ç¤º
- [ ] æ¶ˆè²»é€²åº¦æ¢æ­£ç¢ºé¡¯ç¤º

### èœå–®åŠŸèƒ½
- [ ] å¯é»æ“Šã€Œæˆ‘çš„é€²åº¦ã€ä¸¦çœ‹åˆ°è©³ç´°ä¿¡æ¯
- [ ] å¯é»æ“Šã€ŒKayarine æœƒå“¡ä¸­å¿ƒã€è¿”å›ä¸»é 
- [ ] ç™»å‡ºæŒ‰éˆ•å·¥ä½œæ­£å¸¸

### ç¸½é«”çµæœ
- âœ… æˆåŠŸ / âŒ å¤±æ•—

### å‚™è¨»
[å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–ç•°å¸¸ï¼Œè©³ç´°èªªæ˜]
```

---

## ç›¸é—œæ–‡æª”

- éƒ¨ç½²æŒ‡å—ï¼š[`kayarine-booking/DEPLOYMENT_GCLOUD_GUIDE.md`](./DEPLOYMENT_GCLOUD_GUIDE.md)
- ä¿®å¾©ç´°ç¯€ï¼šè¦‹ [`class-kayarine-woocommerce-customizer.php`](./includes/class-kayarine-woocommerce-customizer.php) ç¬¬ 104-192 è¡Œï¼ˆèœå–®æ¸²æŸ“é‚è¼¯ï¼‰å’Œç¬¬ 419-461 è¡Œï¼ˆèœå–®éæ¿¾ï¼‰

---

## å¿«é€Ÿéƒ¨ç½²ï¼ˆå¦‚éœ€é‡æ–°éƒ¨ç½²ï¼‰

å¦‚æœéœ€è¦é‡æ–°éƒ¨ç½²æœ€æ–°ç‰ˆæœ¬ï¼š

```bash
cd kayarine-booking
./deploy.sh production --clear-cache
```

é è¨ˆæ™‚é–“ï¼š~10 ç§’
