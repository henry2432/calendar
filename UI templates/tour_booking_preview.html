<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kayarine 預約行程 (Tour Booking)</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <style>
        /* Base Reset */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background: #f7fafc; padding: 40px; }
        
        /* Layout Grid */
        .product-page-layout {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
            background: #fff;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        /* Left Column */
        .left-col {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .product-image {
            background-image: url('https://placehold.co/800x600/e2e8f0/a0aec0?text=Tour+Image');
            background-size: cover;
            background-position: center;
            border-radius: 12px;
            padding-top: 75%; /* 4:3 Aspect Ratio */
            width: 100%;
        }

        /* Gallery Carousel */
        .gallery-carousel {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        .gallery-item {
            flex: 0 0 100px;
            height: 100px;
            background: #edf2f7;
            border-radius: 8px;
            cursor: pointer;
            background-size: cover;
            background-position: center;
            border: 2px solid transparent;
        }
        .gallery-item:hover { border-color: #3182ce; }

        /* Right Column (Booking Form) */
        .kb-card {
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 24px;
            background: #fff;
        }

        .kb-title {
            font-size: 1.2rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
            color: #2d3748;
            border-bottom: 2px solid #3182ce;
            padding-bottom: 10px;
            display: table;
            margin-left: auto;
            margin-right: auto;
        }

        /* Calendar */
        .flatpickr-calendar {
            box-shadow: none !important;
            border: 1px solid #e2e8f0 !important;
            margin: 0 auto !important;
        }
        .flatpickr-day.selected { background: #3182ce !important; border-color: #3182ce !important; }
        .flatpickr-day.kb-weekend { background: #fbd38d !important; color: #744210 !important; }

        .kb-legend {
            display: flex;
            justify-content: center;
            gap: 15px;
            font-size: 0.85rem;
            color: #718096;
            margin-top: 10px;
        }
        .kb-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: 5px; }
        .kb-dot.weekday { border: 1px solid #cbd5e0; }
        .kb-dot.weekend { background: #fbd38d; }

        /* Quantity Section */
        .kb-qty-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f7fafc;
            padding: 12px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        /* Custom Pill for Tour Booking (Matching Unified Style) */
        .kb-pill {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: transparent;
            width: 120px;
        }
        
        .kb-btn {
            width: 32px; height: 32px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center; cursor: pointer;
            font-size: 1.2rem; line-height: 1;
            border: none;
            transition: all 0.2s;
        }
        
        /* Minus Button: Black Border, White Background */
        .kb-btn.minus {
            background: #ffffff;
            border: 1px solid #000000;
            color: #000000;
        }
        .kb-btn.minus:hover { background: #f7fafc; }
        
        /* Plus Button: Orange Background, White Text */
        .kb-btn.plus {
            background: #ed8936;
            border: 1px solid #ed8936;
            color: #ffffff;
        }
        .kb-btn.plus:hover { background: #dd6b20; border-color: #dd6b20; }
        
        .kb-val {
            width: 40px;
            text-align: center;
            background: transparent;
            border: none;
            font-weight: 500;
            font-size: 1.1rem;
            color: #2d3748;
        }

        /* Add-ons Sections */
        .kb-section-header {
            font-size: 1rem;
            font-weight: 700;
            color: #2d3748;
            margin: 20px 0 10px 0;
            padding-bottom: 5px;
            border-bottom: 1px solid #edf2f7;
        }

        /* List Style (Rentals) */
        .kb-rental-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dashed #e2e8f0;
        }

        /* Sales Item (Row Style for Sales as requested "independent row") */
        .kb-sale-row {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dashed #e2e8f0;
            gap: 12px;
        }
        
        .kb-sale-thumb {
            width: 50px;
            height: 50px;
            background: #edf2f7;
            border-radius: 6px;
            flex-shrink: 0;
            background-size: cover;
            background-position: center;
        }
        
        .kb-sale-info {
            flex-grow: 1;
        }
        
        .kb-sale-name { font-weight: 600; font-size: 0.95rem; color: #2d3748; }
        .kb-sale-price { font-size: 0.85rem; color: #ed8936; font-weight: bold; }

        /* Footer */
        .kb-footer {
            margin-top: 25px;
            text-align: center;
        }
        .kb-submit {
            width: 100%;
            padding: 12px;
            background: #4299e1;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(66,153,225,0.3);
        }
        .kb-submit:hover { background: #3182ce; }

        @media (max-width: 768px) {
            .product-page-layout { grid-template-columns: 1fr; padding: 20px; }
        }
    </style>
</head>
<body>

    <div class="product-page-layout">
        <!-- Left: Product Image & Gallery -->
        <div class="left-col">
            <div class="product-image"></div>
            <div class="gallery-carousel">
                <div class="gallery-item" style="background-image:url('https://placehold.co/100?text=1')"></div>
                <div class="gallery-item" style="background-image:url('https://placehold.co/100?text=2')"></div>
                <div class="gallery-item" style="background-image:url('https://placehold.co/100?text=3')"></div>
                <div class="gallery-item" style="background-image:url('https://placehold.co/100?text=4')"></div>
            </div>
        </div>

        <!-- Right: Booking Form -->
        <div class="booking-sidebar">
            <div class="kb-card">
                <h3 class="kb-title">預約行程</h3>

                <!-- Calendar -->
                <input type="text" id="date_picker" style="display:none;">
                <div class="kb-legend">
                    <div><span class="kb-dot weekday"></span>平日</div>
                    <div><span class="kb-dot weekend"></span>假日</div>
                </div>

                <!-- Quantity -->
                <div class="kb-qty-row">
                    <span style="font-weight:bold; color:#4a5568;">參加人數</span>
                    <div class="kb-pill">
                        <div class="kb-btn">-</div>
                        <input class="kb-val" value="1" readonly>
                        <div class="kb-btn plus">+</div>
                    </div>
                </div>

                <!-- Add-ons: Rentals -->
                <div class="kb-section-header">附加租借</div>
                <div class="kb-rental-item">
                    <div>
                        <div style="font-weight:600;">租借浮潛面罩</div>
                        <div style="font-size:0.8rem; color:#a0aec0;">+$30</div>
                    </div>
                    <div class="kb-pill">
                        <div class="kb-btn">-</div>
                        <input class="kb-val" value="0" readonly>
                        <div class="kb-btn plus">+</div>
                    </div>
                </div>

                <!-- Add-ons: Sales (Rows with Thumb) -->
                <div class="kb-section-header">加購產品</div>
                
                <div class="kb-sale-row">
                    <div class="kb-sale-thumb" style="background-image:url('https://placehold.co/50?text=Phone')"></div>
                    <div class="kb-sale-info">
                        <div class="kb-sale-name">手機防水袋</div>
                        <div class="kb-sale-price">$50</div>
                    </div>
                    <div class="kb-pill">
                        <div class="kb-btn">-</div>
                        <input class="kb-val" value="0" readonly>
                        <div class="kb-btn plus">+</div>
                    </div>
                </div>

                <div class="kb-sale-row">
                    <div class="kb-sale-thumb" style="background-image:url('https://placehold.co/50?text=Towel')"></div>
                    <div class="kb-sale-info">
                        <div class="kb-sale-name">沙灘毛巾</div>
                        <div class="kb-sale-price">$80</div>
                    </div>
                    <div class="kb-pill">
                        <div class="kb-btn">-</div>
                        <input class="kb-val" value="0" readonly>
                        <div class="kb-btn plus">+</div>
                    </div>
                </div>

                <div class="kb-sale-row">
                    <div class="kb-sale-thumb" style="background-image:url('https://placehold.co/50?text=Shirt')"></div>
                    <div class="kb-sale-info">
                        <div class="kb-sale-name">防曬衣</div>
                        <div class="kb-sale-price">$120</div>
                    </div>
                    <div class="kb-pill">
                        <div class="kb-btn">-</div>
                        <input class="kb-val" value="0" readonly>
                        <div class="kb-btn plus">+</div>
                    </div>
                </div>

                <!-- Footer -->
                <div class="kb-footer">
                    <div style="font-weight:bold; margin-bottom:10px;">總計: <span style="color:#ed8936; font-size:1.3rem;">$0</span></div>
                    <button class="kb-submit">立即預約</button>
                </div>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        flatpickr("#date_picker", {
            inline: true,
            dateFormat: "Y-m-d",
            onDayCreate: function(dObj, dStr, fp, dayElem){
                // Mock weekends
                var date = dayElem.dateObj;
                if (date.getDay() === 0 || date.getDay() === 6) {
                    dayElem.classList.add("kb-weekend");
                }
            }
        });
    </script>
</body>
</html>
